{"plugin_type_name":"import","plugin_class_name":"importer_coda","name":"CODA Raw Importer","description":"This is an example for a CODA importer configuration in RAW mode. This mode yields a lot more data, but you have to \"assemble\" it yourself.\r\n\r\nThis importer plugin needs the org.project60.code extension to be installed and it uses the \"codelicious\/php-coda-parser\" library to import CODA files into CiviBanking.\r\n","weight":"1000","config":{"title":"CODA {starting_date} [{md5}]","import_mode":"raw","statement_rules":[{"comment":"Bank account","type":"set","from":"identification:account_company_identification_number","to":"_NBAN_BE"},{"comment":"Currency","type":"set","from":"_constant:EUR","to":"currency"},{"comment":"Sequence","type":"set","from":"original_situation:sequence_number","to":"tx_batch.sequence"}],"transaction_rules":[{"comment":"Amount","type":"set","from":"line21:amount","to":"amount"},{"comment":"Value Date","type":"strtotime","from":"line21:valuta_date","to":"value_date"},{"comment":"Booking Date","type":"strtotime","from":"line21:transaction_date","to":"booking_date"},{"comment":"Name","type":"set","from":"line23:other_account_name","to":"name"},{"comment":"Purpose","type":"set","from":"line21:message","to":"purpose"},{"comment":"Structured data \/ OGM","type":"set","from":"line21:structured_message_full","to":"structured_message"},{"comment":"Structured data \/ OGM","type":"set","from":"line21:bank_reference","to":"bank_reference"},{"comment":"Address","type":"set","from":"line32:message","to":"address_raw"},{"comment":"parsed Address: street","type":"regex:#^(?P<street_name>.{35})([0-9]{4}) (.{29}) (.{9})$#","from":"address_raw","to":"street_address"},{"type":"trim: ","from":"street_address","to":"street_address"},{"comment":"parsed Address: postal_code","type":"regex:#^.{35}(?P<postal_code>[0-9]{4}) (.{29}) (.{9})$#","from":"address_raw","to":"postal_code"},{"comment":"parsed Address: city","type":"regex:#^.{35}[0-9]{4} (?P<city>.{29}) (.{9})$#","from":"address_raw","to":"city"},{"type":"trim: ","from":"city","to":"city"},{"comment":"parsed Address: country","type":"regex:#^.{35}[0-9]{4} .{29} (?P<country>.{9})$#","from":"address_raw","to":"country"},{"type":"trim: ","from":"country","to":"country"},{"comment":"Party account","type":"regex:#^([0-9]{12})#","from":"line23:other_account_number_and_currency","to":"_party_NBAN_BE"}]},"state":{}}